<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booleans & If statements</title>
</head>
<body>

    <p> Rock Paper Scissors</p>

    <button onclick="

    playerMove = 'rock';
    pickMove();
    chosenMove();
    " >
        Rock
    </button>

    <button onclick=" 

    playerMove = 'paper';
    pickMove();
    chosenMove();
    ">
    Paper
    </button>

    <button onclick="  
    playerMove = 'scissors';
    pickMove();
    chosenMove();

    console.log();
    
    " >
        Scissors
    </button>
    <button onclick="clearScore()">
        Reset Score
    </button>

    <script>

    let upperCase;
    let compMove;
    let playerMove;
    let randomNum;

    // This coverts the json score into an object
    let score = JSON.parse(localStorage.getItem('gameScore')) || {win:0,loss:0,draw:0};

    function pickMove(){
    compMove ='';
    randomNum = Math.random();  // Generates a positive number greater than or equal to 0 and less than 1;
    if(randomNum >= 0 && randomNum < 1/3){
        compMove ='rock';

    }else if( randomNum >= 1/3 && randomNum < 2/3){
        compMove = 'paper';

    }else if(randomNum >= 2/3 && randomNum < 1){
       compMove ='scissors';
    };
    };

    // This function compares the moves and announces the winnwer. 
    function chosenMove(){

        if( playerMove === 'rock' && compMove === 'paper' || playerMove === 'scissors' && compMove === 'rock' || playerMove === 'paper' && compMove === 'scissors'){

            alert(`Game Lost \n Player move ${playerMove} vs Computer move ${compMove} 
            \n score: Wins:${score.win} | Draws:${score.draw}  | Losses:${score.loss+=1}`);

        }
        else if(playerMove === 'rock' && compMove === 'scissors' || playerMove === 'scissors' && compMove === 'paper' || playerMove === 'paper' && compMove === 'rock'){

            alert(`Game Won \n Player move ${playerMove} vs Computer move ${compMove}
            \n score: Wins:${score.win+=1} | Draws:${score.draw}  | Losses:${score.loss}`)

        }else if( compMove === playerMove){
            alert(`Game Drawn \n Player move ${playerMove} vs Computer move ${compMove}
            \n score: Wins:${score.win} | Draws:${score.draw+=1}  | Losses:${score.loss}`)
        };

        // inputs the score into the empty score object being parsed.
        localStorage.setItem('gameScore', JSON.stringify(score));
        
        
    }; 

        function clearScore(){
            score.win  = 0,
            score.draw = 0;
            score.loss = 0;
            localStorage.removeItem('gameScore');
        };


        
    </script>
    
</body>
</html>